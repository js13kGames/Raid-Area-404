<style>body{margin:0;padding:0}canvas{position:absolute;top:0;left:0;width:100%;height:100%}</style><img id="i"><canvas id="d"></canvas><canvas id="c"></canvas><canvas id="g"></canvas><script>var aa=a=>{for(var e in a)a[e.replace(/(^..)[a-z]*([A-Z][a-z]?)?[a-z]*([A-Z][a-z]?)?[a-z]*([A-Z][a-z]?)?[a-z]*(.+)$/,"$1$2$3$4$5")]=a[e];return a},ba=Math.PI,ca=Math.pow,P=Math.random,da=Math.min,ea=Math.max,U=Math.abs,fa=Math.sin,ia=Math.cos,ka=Math.atan2;var V=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],X=(a,e)=>{var h=[];for(var f=0;16>f;f++){var k=f>>2,m=f%4,r=0;for(var y=0;4>y;y++)r+=a[k+4*y]*e[y+4*m];h[k+4*m]=r}return h},la=(a,e)=>{a=1/a;return[a/e,0,0,0,0,a,0,0,0,0,-1,-1,0,0,-.2,0]},ma=(a,e,h)=>[Y(a,1,0,0),Y(e,0,1,0),Y(h,0,0,1)].reduce(X,V()),Y=(a,e,h,f)=>{var k,m;k=fa(a);a=ia(a);m=1-a;return[e*e*m+a,h*e*m-f*k,f*e*m-h*k,0,e*h*m+f*k,h*h*m+a,f*h*m-e*k,0,e*f*m+h*k,h*f*m+e*k,f*f*m+a,0,0,0,0,1]},na=(a,e=a,h=e)=>[a,0,0,0,0,e,0,0,0,0,h,0,0,0,0,1],oa=(a,e,h)=>[1,0,0,0,0,1,0,0,0,0,1,0,a,e,h,1];var pa=[3,2],qa=[0,1,2,3,4,5],ra=[Y(1.571,1,0,0),V(),Y(1.571,0,1,0),Y(-1.571,1,0,0),Y(3.142,0,1,0),Y(-1.571,0,1,0)],sa=[[{M:5,ua:-ba/2},{M:4,ua:ba}],[{M:5},{M:0}],[{M:1},{M:0,ua:-ba/2}],[{M:5,ua:ba/2},{M:1}],[{M:2},{M:0,ua:ba}],[{M:4},{M:0,ua:ba/2}]],ta=[0,4.71,3.14,1.57],ua=[[0,0],[0,1],[1,1],[1,0]],va=[[1,-1,1],[1,0,0],[0,0,3]],ya=(a,e)=>{var h=wa(a);a=xa(h,e);if(1<a.length){var f=[...a].filter((n,p)=>!(p%2)).sort((n,p)=>n[1]-p[1])[0][1],k=a.findIndex(n=>n[1]==f),[m,r]=a[k],[y,C]=a[k+1],u=[],b=[];h.map((n,p)=>{var q={...n,j:[...n.j]};var x=h[(p+1)%h.length];var E=x.j[1]-n.j[1],M=1E-5<U(E)?(e-n.j[1])/E:0;E=n.C&&x.C?[n.C[0]+(x.C[0]-n.C[0])*M,n.C[1]+(x.C[1]-n.C[1])*M]:null;var J=n.Ba,L=null!=n.j[2]&&null!=x.j[2]?n.j[2]+(x.j[2]-n.j[2])*M:null,K=1E-5<U(e-n.j[1]),N=1E-5>U(e-x.j[1]);(p<r||p===r&&K||p>C)&&u.push(q);p>r&&(p<C||p==C&&K)&&b.push(q);q=null!=n.R&&null!=x.R?n.R+(x.R-n.R)*M:null;M=null!=n.P&&null!=x.P?n.P+(x.P-n.P)*M:null;if(p==r){var T={j:[m,e,L],C:E,Ba:J,ja:n.ja&&!K||x.ja&&N,R:q,P:M};u.push(T);b.push(T)}p==C&&(n={j:[y,e,L],C:E,Ba:J,ja:n.ja&&!K||x.ja&&N,R:q,P:M},u.push(n),b.push(n))});a=(n,p,q)=>{p=q[(p+1)%q.length];return 1E-5>U(n.j[0]-p.j[0])&&1E-5>U(n.j[1]-p.j[1])?[]:[n]};var [A,G]=ya(u.flatMap(a),e),[w,v]=ya(b.flatMap(a),e);return[A.concat(w),G.concat(v)]}return(h[0].j[1]+h[1].j[1])/2<e?[[za(0,h)],[]]:[[],[za(0,h)]]},Aa=(a,e)=>a.flatMap((h,f)=>{var k=a[(f+1)%a.length];var [m,r]=h.j,[y,C]=k.j;h=1E-5<U(C-r);k=C-1E-5<e&&e<r+1E-5;var u=r-1E-5<e&&e<C+1E-5;var b=[];(k||u)&&h&&(b=[[m+(y-m)*(e-r)/(C-r),f,(k?2:0)+(u?1:0)]]);return b}).sort(([h,,f],[k,,m])=>h-k+1E-5*(m-f)),xa=(a,e)=>Aa(a,e).flatMap((h,f,k)=>{if((f=k[f+1])&&1==h[2]&&2==f[2]){var m=h[1],r=f[1];k=da(m,r);m=ea(m,r);r=C=>C.j[1]+1E-5<e||C.j[1]-1E-5>e;var y=a.slice(m+1).concat(a.slice(0,k+1));if(a.slice(k+1,m+1).some(r)&&y.some(r))return[h,f]}return[]}),za=(a,e)=>wa(e.map(h=>({...h,j:Ba(a,h.j)}))),wa=a=>{var e=a.reduce((h,f,k)=>{var m=a[h];return f.j[1]<m.j[1]-1E-5||1E-5>U(f.j[1]-m.j[1])&&f.j[0]<m.j[0]-1E-5?k:h},0);return a.slice(e).concat(a.slice(0,e))},Ha=(a,e,h)=>{var f=e[h];if(!f&&(f=Ca(e,h),!f)){f=(h+1)%6;var k=(h+2)%6,[,,m,r]=Da(e[f]||Ca(e,f)||Ea(a,f)),[,,y,C]=Da(e[k]||Ca(e,k)||Ea(a,k));var u,b;switch(h%3){case 0:u=m;b=y;break;case 1:u=y;b=r;break;case 2:u=r,b=C}return[{j:[-u/2,-b/2]},{j:[-u/2,b/2]},{j:[u/2,b/2]},{j:[u/2,-b/2]}]}return f},Da=a=>{var [e,h]=a[0].j,[f,k,m,r]=a.reduce(([y,C,u,b],{j:[A,G]})=>[da(y,A),da(C,G),ea(u,A),ea(b,G)],[e,h,e,h]);return[f,k,m-f,r-k]},Ea=(a,e)=>{var h=a[7]||1,f=a[6]||1;a=a[8]||1;var k=h,m=f;switch(e%3){case 2:k=a;m=f;break;case 0:k=h,m=a}return[{j:[-k/2,-m/2]},{j:[-k/2,m/2]},{j:[k/2,m/2]},{j:[k/2,-m/2]}]},Ca=(a,e)=>{if(a=a[(e+3)%6]){var h=e%3?-1:1;return wa(a.map(f=>({...f,j:[h*f.j[0],-h*f.j[1]]})).reverse())}},Ja=(a,e,h)=>{var f=i;var k=document.createElement("canvas"),m=aa(k.getContext("2d"));return qa.map(r=>{if(r=a[r]){var [y,C,u,b]=r;k.width=u;k.height=b;m.drIme(f,y,C,u,b,0,0,u,b);r=m.geImDaa(0,0,u,b);return Ia(r.data,y,C,u,b,e,h)}})},Ia=(a,e,h,f,k,m,r)=>{var y=f/2;var C=k/2;var u=a.findIndex(M=>250>M)/4|0;var b=u%f,A=u/f|0;var G=b,w=A,v=0;var n=1;var p;u=[];do{var [M,J]=ua[v];var q=a[4*(w*f+G)];var L=ta[v];if(n!=v||p!=q&&p&&q){n=n==v?1.57:n==(v+1)%4?.78:2.36;var x=G+M,E=w+J;u.push({j:[x-y,E-C],C:[(x+e+ia(L+n)/9)/m,(E+h+fa(L+n)/9)/r],Ba:1,Sa:p!=q&&p&&q})}n=v;p=q;for(var K of va){var [N,T]=Ba(L,K).map(Math.round);q=G+N;x=w+T;E=x*f+q;if(0<=q&&q<f&&0<=x&&x<k&&250>a[4*E]){G+=N;w+=T;v=(v+K[2])%4;break}}}while(G!=b||w!=A||v);({j:a}=u[u.length-1]);for(e=0;e<u.length;e++){h=u[e];f=h.j;k=h.Sa;({j:m}=u[(e+1)%u.length]);var [M,J]=Ka(a,f);[,r]=Ba(-M,[m[0]-f[0],m[1]-f[1]]);[,y]=Ka(f,m);-1E-5>r&&!k&&(1.1>J||1.1>y)&&(f[0]=(a[0]+m[0])/2,f[1]=(a[1]+m[1])/2,h.ja=1);a=f}return u.reverse()},Ra=(a,e)=>qa.map(h=>{var f;var k=Ha(a,e,h);var m=[k];null===(f=sa[h])||null===f?null:f.map(({M:r,ua:y=0},C)=>{var u=C*ba/2;r=Ha(a,e,r);var b=za(y+u,r),A=b.concat(za(u,k)).reduce((G,w)=>G.flatMap(v=>{var [n,p]=ya(v,w.j[1]);return n.concat(p)}),[b]).flatMap(G=>G.flatMap((w,v)=>{v=G[(v+G.length-1)%G.length];var n=v.j;var p=w.j;return n[1]<p[1]-1E-5?([,n]=Aa(G,(n[1]+p[1])/2)[1],[[v,w,G[n],G[(n+1)%G.length]]]):[]}));m=m.flatMap(G=>{var w=za(u,G);return A.flatMap(v=>{var [n,p,q,x]=v,E=n.j,M=p.j;v=Aa(b,E[1]);var J=Aa(b,M[1]),L=x.j[0],K=q.j[0],N=([z,,I])=>I&2&&z<M[0],T=(v.reverse().find(N)||[])[0],ha=(J.reverse().find(N)||[])[0];return ya(w,E[1])[1].flatMap(z=>ya(z,M[1])[0]).flatMap(z=>{if(z.some(I=>null!=I.P&&I.P<ea(E[0],M[0])-1E-5))return[];{var I=z.some(H=>null!=H.R&&H.R>da(E[0],M[0])+1E-5);z=za(-u,z.map(H=>{if(!I){var R,B;var O=(H.j[1]-E[1])/(M[1]-E[1]);var D=E[0]+(M[0]-E[0])*O;O=n.C&&p.C?[n.C[0]+(p.C[0]-n.C[0])*O,n.C[1]+(p.C[1]-n.C[1])*O]:null;1E-5>U(H.j[1]-E[1])&&(R=T,B=L);1E-5>U(H.j[1]-M[1])&&(R=ha,B=K);H.C=H.C||O;var F=H.j[2];if(null==F||F<D-1E-5)H.j[2]=D,H.Ba||(H.C=O);null!=R&&(H.R=null!=H.R?ea(H.R,R):R);null!=B&&(H.P=null!=H.P?da(H.P,B):B)}return H}));if(C){var H=z.reduce((D,F)=>F.j[2]+D,0)/z.length;var O;var R=z.reduce((D,F,S)=>{var W=U(F.j[2]-H);return null==O||W>O+1E-5||W>O-1E-5&&W<O+1E-5&&F.ja?(O=W,S):D},-1),B=z[R];return z.slice(R+1).concat(z.slice(0,R)).flatMap((D,F,S)=>{F=S[F+1];if(!F)return[];S=Z(D.j,B.j);var W=Z(F.j,B.j);S=La(S,W);S=Ma(S,ca(Qa(S,S),.5));return 1==h%3||2==h%3&&1E-5>U(S[0])||!(h%3)&&1E-5>U(S[0])&&1E-5>U(S[1])?[[{...B,j:[...B.j]},{...D,j:[...D.j]},{...F,j:[...F.j]}]]:[]})}return[z]}})})})});return m}),Sa=[{1:[24,9,4,16],8:4},{0:[5,7,5,5]},{2:[26,0,5,9],1:[0,7,5,9],3:[0,7,5,5]},{5:[3,0,9,7],1:[3,0,9,7]},{1:[5,19,6,8],4:[13,13,6,8],2:[18,13,6,8],0:[13,8,6,6]},{1:[14,0,5,8],2:[23,0,3,8],4:[18,0,5,8]},{5:[11,16,3,6],1:[10,7,3,6],0:[28,0,3,3],3:[6,2,3,3]},{4:[12,0,2,6]},{2:[5,12,2,7],1:[7,12,3,7],0:[28,0,3,3]},{5:[2,16,3,7],1:[0,16,2,7]},{1:[0,3,3,4]},{1:[0,0,3,7]},{1:[24,20,4,5],8:4},{1:[24,14,4,11]},{1:[24,19,4,6]}],Ta=a=>{var e={};for(var h in a){var f=9>U(h)?-1:1;e[f*h]=a[h].map(k=>-f*k)}return e},Ua=a=>{var e={3:[0,.2*a,0],4:[.5*a,0,0],[-3]:[0,-.3*a,-.13],10:[0,.05*a*a,-.13*a],11:[0,0,.1*a],2:[.2*a*a,0,0],[-2]:[.16*a*a,0,0]};a={3:[0,-.17*a,-.13],4:[.8*a,0,0],10:[0,.03*a,0],1:[0,-.5*a,0],2:[.3*a,0,0],[-1]:[0,.26*a,0],[-2]:[.16*a*a,0,0]};var h=Ta(e),f=Ta(a);h[10][1]=e[10][1];f[10][1]=a[10][1];return[a,h,f,e]},Va=[{1:[0,-1.6,0],2:[.4,0,0],10:[0,.3,0],11:[0,-.3,0],3:[0,-.3,-.13],4:[.8,0,0],[-3]:[0,-1,-.13],[-4]:[.8,0,0]}],Wa=[{1:[0,-.4,0],10:[0,.5,0],11:[0,-.4,0],3:[0,-2.1,0],4:[2,0,0],[-4]:[2,0,0]}],Xa={1:[0,-1.6,0],2:[2.1,.8,0],[-1]:[0,-2.1,0],[-2]:[2.1,.5,0],11:[.3,0,0],[-4]:[1,0,0],4:[.8,0,0]},Ya=[Xa,Ta(Xa)],Za=[{1:[-.3,-1.3,0],2:[.5,.3,.3],[-1]:[-.8,-1.3,0],[-2]:[.6,.3,.3]}],Ka=([a,e],[h,f])=>{a=h-a;e=f-e;return[ka(e,a),ca(a*a+e*e,.5)]},Ba=(a,[e,h,f])=>{var k=fa(a);a=ia(a);return[e*a-h*k,e*k+h*a,f]},$a=(a,e,h,f)=>{var k=a[3]*e+a[7]*h+a[11]*f+a[15]||1;return[(a[0]*e+a[4]*h+a[8]*f+a[12])/k,(a[1]*e+a[5]*h+a[9]*f+a[13])/k,(a[2]*e+a[6]*h+a[10]*f+a[14])/k]},La=(a,e)=>[a[1]*e[2]-a[2]*e[1],a[2]*e[0]-a[0]*e[2],a[0]*e[1]-a[1]*e[0]],Qa=(a,e)=>a.reduce((h,f,k)=>h+f*e[k],0),ab=a=>ca(Qa(a,a),.5),Z=(a,e)=>a.map((h,f)=>h-e[f]),Ma=(a,e)=>a.map(h=>h/e),cb=(a,e,h)=>{var f=h[0],k=h[1],m=a[a.length-1],r;e=e*e+1E-5;for(var C=0;C<a.length;C++){var u=a[C],b;var y=((f-m[0])*(u[0]-m[0])+(k-m[1])*(u[1]-m[1]))/bb(m,u);0>y?b=m:1<y?b=u:b=[m[0]+y*(u[0]-m[0]),m[1]+y*(u[1]-m[1])];y=bb(h,b);m=u;y<e&&(r=b,e=y)}return r},bb=(a,e)=>{var h=a[0]-e[0];a=a[1]-e[1];return h*h+a*a},jb={id:10,U:[0,0,.88],W:[5,4,3,5],O:[na(.08),Y(.1,0,1,0),oa(0,0,3.5)].reduce(X,V()),S:5,qa:[{id:11,S:4,U:[-.2,0,4.2],W:[0,5,1,9],O:[Y(-.1,0,1,0),na(.5),oa(0,0,3)].reduce(X,V())},{id:-1,S:6,U:[0,2.1,2.8],W:[4,4,6,6],O:[na(.8),Y(-.06,1,0,0),Y(.16,0,1,0),oa(0,0,-2),Y(-1.6,0,0,1)].reduce(X,V()),qa:[{id:-2,S:7,U:[0,.5,-3],W:[6,1,1],O:[Y(.5,1,0,0),Y(.3,0,0,1),oa(1,-.5,-2.8)].reduce(X,V())}]},{id:1,S:6,wa:1,U:[0,-2.1,2.8],W:[4,4,6,6],O:[na(.8),Y(-.06,1,0,0),Y(.16,0,1,0),oa(0,0,-2),Y(-1.6,0,0,1)].reduce(X,V()),qa:[{id:2,S:7,U:[0,.5,-3],W:[6,1,1],O:[Y(.5,1,0,0),Y(.3,0,0,1),oa(1,-.5,-2.8)].reduce(X,V())}]},{id:-3,S:8,U:[.4,-.6,-2],W:[3,3,7],O:[Y(.16,1,0,0),Y(-.16,0,1,0),oa(-.5,0,-3.7),Y(1.7,0,0,1)].reduce(X,V()),qa:[{id:-4,S:9,U:[-.2,0,-3],W:[7,2,8],O:[Y(.16,0,1,0),oa(0,0,-2.8),Y(1.6,0,0,1)].reduce(X,V())}]},{id:3,S:8,U:[.4,.6,-2],W:[3,3,7],wa:1,O:[Y(.16,1,0,0),Y(-.16,0,1,0),oa(-.5,0,-3.7),Y(1.7,0,0,1)].reduce(X,V()),qa:[{id:4,S:9,U:[-.2,0,-3],W:[7,2,8],O:[Y(.16,0,1,0),oa(0,0,-2.8),Y(1.57,0,0,1)].reduce(X,V())}]}]},kb=[.3,.2,.1,1],lb=[.35,.4,.4,1],mb=[.6,.4,.4,1],nb=[.4,.6,.4,1],ob=[.4,.4,.4,1],pb=[.55,.6,.6,1],qb=[.4,.5,.5,1],rb=[.7,.7,.7,1],sb=[.4,.4,.6,1],tb=[0,0,0,.5],ub=[.5,.5,1,.2],vb=[0,1,0,1],wb=[1,0,0,1],xb=[.1,.1,.2,1],yb=[.4,.4,.5,1],zb=[.5,.55,.55,1],Ab=(a,e,h)=>{if(e){var f=(k,m,r)=>{0>r&&(r+=1);1<r&&--r;return.2>r?k+6*(m-k)*r:.5>r?m:.7>r?k+(m-k)*(2/3-r)*6:k};e=.5>h?h*(1+e):h+e-h*e;h=2*h-e;return[f(h,e,a+1/3),f(h,e,a),f(h,e,a-1/3),1]}return[h,h,h,1]},Bb=[[0,-1],[0,1],[1,0],[-1,0]],Cb=[...Bb,[1,-1],[-1,-1],[1,1],[-1,1]],Eb=(a,e)=>{var [h,f]=Db(e);0>e.ga&&(a.T[e.j[0]|0][e.j[1]|0].fa=e);a.I[h][f].ha.push(e)},Gb=(a,e,h,f,k)=>a.T[f[0]|0][f[1]|0].ia&&Fb(a,e,h,f,k),Hb=(a,e,h,f)=>{a=a[2];h=h[2];return!(h+f<a||a+e<h)},Fb=(a,e,h,f,k,m=0)=>{var r=e[2]+h,y=f[2]+k;h=Z(f,e);var C=ab(h.slice(0,2));if(7<C)return 0;var u=C;f=ka(h[1],h[0]);var b=fa(f),A=ia(f);h=0;var G=fa(f+1.6),w=ia(f+1.6);for(f=m?[1,-1]:[0];0<u&&!h;)h=f.some(v=>{v=a.T[e[0]+A*u+w*m*v|0][e[1]+b*u+G*m*v|0];var n=r+(y-r)*u/C;return v.fa&&v.fa.j[2]+v.fa.u+1E-5>n&&v.fa.j[2]-1E-5<n}),u-=.5;return!h},Db=a=>[a.j[0]/9|0,a.j[1]/9|0],Ib=a=>a.map(e=>e|0),Jb=a=>a.slice(0,2).map(e=>(e|0)+.5).concat(a[2]),Kb=(a,e,h)=>{var f=a.I[e][h].$;return Cb.flatMap(([k,m],r)=>{k=e+k;m=h+m;return f&1<<r?[[k,m]]:[]}).concat([[e,h]])},Mb=(a,e,h,f,k=()=>1,m=k(h,f),r=Lb(27,18,()=>0))=>{if(0<=h&&0<=f&&27>h&&18>f){var y=m+k(h,f);m=a.T[h][f];var C=r[h][f];m.fa&&Hb(e.j,e.u,m.fa.j,m.fa.u)||C&&!(C>y)||(r[h][f]=y,Bb.map(([u,b])=>Mb(a,e,h+u,f+b,k,y,r)))}return r},Nb=(a,e,h)=>{var f=[];var k,m;do if(k=a[e][h],m=0,0!=k){f.unshift([e+.5,h+.5]);for(var [r,y]of Bb){var C=e+r,u=h+y;if(0<=C&&27>C&&0<=u&&18>u){var b=a[C][u];if(b&&(b<k||b==k&&.5<P())){e=C;h=u;m=1;break}}}}while(m);return f},Ob=(a,e,h)=>{var f={};e.map(([k,m])=>{if(0<=k&&k<a.I.length&&(k=a.I[k][m]))for(m=k.ha.length;m;){m--;var r=k.ha[m];f[r.id]||(f[r.id]=1,h(r))}});a.Ca.map(k=>{f[k.id]||h(k)})},Pb=a=>{var e=a.j.map(f=>(f-a.J)/9|0),h=a.j.map(f=>(f+a.J)/9+1|0);return[e,h]},Rb=(a,e,h)=>{var f=[],k=[],m=a.F;a.F+=h;var [r,y]=Db(a.G),C=a.I[r][y].Ia,u=Kb(a,r,y);Ob(a,u,b=>{var A=[],G;switch(b.ba){case 1:if(7E3>U(b.aa||0)){var w=e.Wa,v=(w[39]||0)-(w[37]||0);b.X-=v*h/400;var n=(w[38]||0)-(w[40]||0);var p=w[83];G=w[65];var q=b.$a>a.F-99;q?(A.push({D:5,Ma:1+2*b.aa/7E3}),p=0,b.aa=da(7E3,(b.aa||0)+h)):25<b.j[0]&&4>b.j[1]?b.aa=ea(-7E3,(b.aa||0)-h):b.aa*=ca(.99,h);q=w[16]&&0<n&&!q&&!p;w[66]&&A.push({D:6});(!p&&n||v)&&A.push({D:q?2:1});p&&A.push({D:4});q&&(a.ya.ra=b.j.slice(),a.ya.B||(a.ya.B=1));w=p?0:n*(q?2:1)/899;var D=[ia(b.X)*w,fa(b.X)*w,p?-1/350:1/350];b.H=b.H.map((F,S)=>F+(D[S]-F)*h/99)}break;case 2:var x=Fb(a,Jb(a.G.j),a.G.u,Jb(b.j),b.u);var z=Ib(a.G.j),[I,H]=z,[O,R]=Ib(b.j);var E=a.T[I][H].ia;n=a.T[O][R].ia;n&&x||!(0>b.B)||(b.A=null,b.B=0);x&&(b.ra=a.G.j.slice(),b.B||(b.B=1));var B=9*P();var M=(D,F)=>1+(a.T[D][F].ia?B:0);n&&x&&0<=b.B&&(n=b.A&&b.A[0],!n||Gb(a,Jb(a.G.j),a.G.u,n.concat(0),b.u)||3<ab(Z(n,b.j)))&&(b.A=null,b.B=-1,M=(D,F)=>1+(a.T[D][F].ia?9:0)+ea(1,13-ab(Z([D,F],a.G.j))),b.ma=(b.ma||[]).filter(D=>3!=D.D));n=2E3<b.la;q=a.Qa.filter(D=>a.Z[D.L]);if(!b.A||!b.A.length||n||x&&!E&&b.A[b.A.length-1].some((D,F)=>(D|0)!=z[F]))if(b.la=0,!v){var J=q.map(F=>F.j.concat(3));x&&J.push(a.G.j.concat(0>b.B?-1:E?2:4));0<=b.B&&b.ra&&!J.length&&J.push(b.ra.concat(2));x=O;E=R;var L=a.T[O][R].fa;L&&Hb(L.j,L.u,b.j,b.u)&&(x+=(3*P()|0)-1,E+=(3*P()|0)-1);var D=Mb(a,b,x,E,M);M=J.filter(F=>{var [S,W]=Ib(F);return D[S][W]});J=M.filter(F=>0<=b.B||!Gb(a,Jb(a.G.j),a.G.u,Jb(F),b.u)).sort((F,S)=>{var [W,Q]=Ib(F),[ja,Na]=Ib(S);return(D[W][Q]||9E9)/F[3]-(D[ja][Na]||9E9)/S[3]});M.length&&!b.B&&(b.B=1);if(!(J.length&&!(0>J[0][3])||b.A&&b.A.length)||0>b.B){for(x=0;27>x;x++)for(E=0;18>E;E++)if(L=ab(Z([x,E],b.j)),1<L&&(L=0>b.B?a.T[x][E].ia?0:D[x][E]:D[x][E]/(L*L))&&(!K||K>L)){var K=L;var N=[x,E,0,1]}N&&(0<b.B&&(b.B=0),J.unshift(N))}K=J.length?J:M;if(K=K[n?P()*K.length|0:0]){var [F,S]=Ib(K);b.A=Nb(D,F,S)}else n&&(b.A=null)}if(!v){K=0;N=1;if(b.A&&0<b.A.length&&!v){for(;K<b.A.length&&Fb(a,b.j,0,b.A[K].concat(0),0,b.J)&&1.5>ab(Z(b.A[K],b.j));){v=Gb(a,Jb(a.G.j),a.G.u,b.A[K].concat(0),b.u);if(!(N=0>b.B&&v||0<=b.B&&!v))break;K++}v=da(b.A.length-1,K-(0>b.B&&!N?0:1));0<v&&(b.A.splice(0,v),b.la=0);v=b.A[0]}0<=b.B&&!N&&!K&&(v=null,b.A=null)}if((!b.A||2>b.A.length)&&!n&&(n=q.concat(a.G).sort((D,F)=>ab(Z(D.j.slice(0,2),b.j))-ab(Z(F.j.slice(0,2),b.j)))[0])&&(q=Z(n.j.slice(0,2),b.j),K=ca(Qa(q,q),.5),.7>K)){if(K<b.J+n.J)switch(n.ba){case 1:A.push({D:6,va:()=>{a.G.$a=a.F}});break;case 5:G=1}w=ka(q[1],q[0]);v=[n.j[0]-ia(w)*b.J,n.j[1]-fa(w)*b.J]}v?(q=Z(v,b.j),n=ca(Qa(q,q),.5)-.1,n=h?da(n/h,0>b.B?.01:.001+.003*b.B):0,1E-5>n&&(n=0,2>(null===(p=b.A)||null===p?null:p.length)&&(b.A&&b.A.length&&b.ra&&1>ab(Z(b.A[0],b.ra))&&(b.ra=null),b.A=null)),n?(A.push({D:b.B?2:1}),null==w&&(p=Z(v,b.j),w=ka(p[1],p[0]))):null==w&&(p=Z(C,b.j),w=ka(p[1],p[0])),b.X=w,p=ka(q[1],q[0]),p=[ia(p)*n,fa(p)*n,b.H[2]],b.H=p):b.H=[0,0,0];b.la+=h;break;case 6:p=a.Z[b.L]?!b.Fa:b.Fa;w=b.H[2];!p&&1E-5>b.Y[1]-b.j[2]||p&&1E-5>b.j[2]-b.Y[0]?(b.H=[0,0,0],w&&f.push(b.j)):(!w&&a.F&&Qb(b.j,1),b.H=[0,0,p?-.004:.004],p&&b.Ja>=a.F-60&&(a.Z[b.L]=b.Fa?a.F:0));break;case 4:p=a.Z[b.L]||0;p!=b.ab&&(b.ab=p,f.push(b.j));w=a.F-p;w=9==b.L?2:p?ea(0,da(1,ca(fa(a.F/9),4)+w/(w+999)-1.2*(b.Da>>(w/199|0)%32&1))):0;b.sa=w;b.ca[0]=[.5+b.sa/2,.5+b.sa/2,.5+b.sa/2,1];p&&k.push(b);break;case 5:5>b.L?a.Z[b.L]?b.ca.splice(1,2,ob,wb):b.ca.splice(1,2,vb,ob):b.ca[2]=a.Z[b.L]?vb:wb}if(0<b.ga){p=Pb(b);w=0;var z=h,I;do{var H=z+1,O,R=0;I=0;var B=b.J+ea(...b.H.map(Q=>U(Q*z)))+1E-5,[D,F]=b.j.map(Q=>ea(0,(Q-B)/9|0)),[S,W]=b.j.map((Q,ja)=>(da(pa[ja]||0)-1,(Q+B)/9|0));for(v=D;v<=S;v++)for(n=F;n<=W;n++)(q=a.I[v][n])&&q.ha.map(Q=>{var ja=Q!=b&&Q.ga?0>Q.ga?3:1:0;var Na=2*z,Oa=0,Fa,db;for(var Ga=0;Ga<ja&&(!Ga||db);Ga++){var eb=(Oa+Na)/2,Pa=b.j.map((fb,gb)=>fb+b.H[gb]*eb);var hb=0;if(ab(Z(Pa.slice(0,2),Q.j))<Q.J+b.J&&Hb(Q.j,Q.u,b.j,b.u))if(Q.Pa){var ib=Q.Pa.map(fb=>Ba(Q.X,fb).map((gb,jc)=>gb+Q.j[jc]));if(ib=cb(ib,b.J,Pa))hb=1,Fa=Z(Pa,ib.concat(0))}else hb=1,Fa=Z(Pa,Q.j);hb?(Na=eb,db=1):Oa=eb}ja=Z(b.H,Q.H);db&&(0>Q.ga?Oa<H&&0>Qa(Fa.slice(0,2),ja)&&ja.some(Ga=>1E-5<U(Ga))&&(I=1,R=Q,O=ka(Fa[1],Fa[0]),H=Oa-1E-5):G&&5==Q.ba&&(a.ya.A=null,A.push({D:3,va:()=>{a.Z[Q.L]=a.Z[Q.L]?0:a.F}})))});b.j=b.j.map((Q,ja)=>Q+b.H[ja]*H);b.Y&&(b.j[2]=da(b.Y[1],ea(b.Y[0],b.j[2])));R&&(v=Ba(-O,b.H),b.Ja=R.Ja=a.F,v[0]*=-((b.eb||.001)+(R.eb||.001)),b.H=Ba(O,v),z-=H,w++,2==b.ba&&(b.la+=h))}while(I&&1E-5<z&&3>w);w=Pb(b);for(v=p[0][0];v<=p[1][0];v++)for(n=p[0][1];n<=p[1][1];n++)(w[0][0]>v||w[1][0]<v||w[1][0]>n||w[1][1]<n)&&a.I[v]&&a.I[v][n]&&(q=a.I[v][n].ha.indexOf(b),0<=q&&a.I[v][n].ha.splice(q,1));for(v=w[0][0];v<=w[1][0];v++)for(n=w[0][1];n<=w[1][1];n++)(p[0][0]>v||p[1][0]<v||p[1][0]>n||p[1][1]<n)&&a.I[v]&&a.I[v][n]&&a.I[v][n].ha.push(b)}else b.j=b.j.map((z,I)=>z+b.H[I]*h),b.Y&&(b.j[2]=da(b.Y[1],ea(b.Y[0],b.j[2])));A.map(({D:z,va:I})=>{if(b.na[z]){var H=b.ma.find(O=>O.D==z);H?H.cb=a.F:b.ma.push({D:z,Aa:a.F,va:I})}});b.ma=(b.ma||[]).filter(z=>{var I=b.na[z.D],H=A.find(F=>F.D==z.D),O=a.F-z.Aa;var R=I.N.length*I.K*(H&&H.Ma||1);var B=O/R|0;R=I.za||R;var D=!H&&I.ta||B&&(!I.ta||!H);(D&&!I.ta||B)&&z.va&&z.va();O/R|0&&O%R<h&&I.ea&&I.ea(Z(C,b.j),H&&H.Ma||1);return!D}).sort((z,I)=>z.D-I.D);var T=b.Oa={},ha={};b.pa=b.pa||{};b.na=b.na||[];b.ma.map(z=>{var I=b.na[z.D];if(I){var H=m-z.Aa;var R=H/I.K|0;H=(H+h)/I.K|0;if(R<I.N.length||z.cb==a.F){var B=I.N[R%I.N.length],D=(a.F-(z.Aa+I.K*R))/I.K;for(var F in B){var O=b.pa[F];O=O&&(O.D==z.D&&z.Aa!=a.F?O.Na:O.Ha)||[0,0,0];var S=B[F],W=O.map((Q,ja)=>Q+(S[ja]-Q)*D);ha[F]={D:z.D,Na:H==R?O:S,Ha:W,Xa:I.K,Za:a.F,Ya:W};T[F]=ma(...W)}}}});b.pa={...b.pa,...ha};for(var z in b.pa)if(!T[z]){p=b.pa[z];var I=1-(a.F-p.Za)/p.Xa;0>I&&(I=0,p.D=0);w=p.Ya.map(H=>H*I);p.Ha=w;p.Na=w;T[z]=ma(...w)}});f.length&&a.T.map((b,A)=>{b.map((G,w)=>{var v=[A+.5,w+.5,0];f.some(n=>8>ab(Z(v,n)))&&(G.ia=k.some(n=>ab(Z(v.slice(0,2),n.j))<n.j[2]*n.Ka&&Fb(a,n.j,0,v,1)))})});e.bb=k},Sb=["aVertexPosition","aTextureCoordinate","aSurfaceNormal"],Tb="uModelViewMatrix uProjectionMatrix uModelTexture uCameraPosition uLight uLightPositions uLightProjections uLightTextures uPalette uBadges uBadgeTexture".split(" "),Vb=(a,e)=>{var h=Ub(a,35633,"attribute vec4 aVertexPosition;attribute vec2 aTextureCoordinate;attribute vec3 aSurfaceNormal;uniform mat4 uModelViewMatrix;uniform mat4 uProjectionMatrix;varying vec2 vTextureCoordinate;varying vec3 vSurfaceNormal;varying vec4 vPosition;varying vec4 vOriginalPosition;varying vec3 vOriginalSurfaceNormal;void main(){vPosition=uModelViewMatrix*aVertexPosition;vTextureCoordinate=aTextureCoordinate;vOriginalPosition=aVertexPosition;vOriginalSurfaceNormal=aSurfaceNormal;vSurfaceNormal=((uModelViewMatrix*vec4(aSurfaceNormal,.0))-(uModelViewMatrix * vec4(.0))).xyz;gl_Position=uProjectionMatrix*vPosition;}"),f=Ub(a,a.FRAGMENT_SHADER,"precision highp float;uniform sampler2D uModelTexture;uniform vec3 uCameraPosition;uniform vec3 uLight;uniform vec4 uLightPositions[4];uniform mat4 uLightProjections[4];uniform sampler2D uLightTextures;uniform vec4 uPalette[4];uniform vec4 uBadges[4];uniform sampler2D uBadgeTexture;varying vec2 vTextureCoordinate;varying vec4 vPosition;varying vec3 vSurfaceNormal;varying vec4 vOriginalPosition;varying vec3 vOriginalSurfaceNormal;void main(){vec3 lCameraDelta=uCameraPosition-vPosition.xyz;if(uLight.y>.0){vec4 lColor=texture2D(uModelTexture,vTextureCoordinate);float lLight=lColor.r;for(int lPaletteIndex=0;lPaletteIndex<4;lPaletteIndex++){if(float(lPaletteIndex)<=lLight*3.1){lColor=uPalette[lPaletteIndex];}}vec4 lTempColor=lColor;if(dot(lCameraDelta,vSurfaceNormal)>.0){for(int lBadgeIndex=0;lBadgeIndex<4;lBadgeIndex++){vec4 lBadge=uBadges[lBadgeIndex];if(abs(lBadge.z-vOriginalPosition.z)<abs(lBadge.x)&&(cos(lBadge.y-atan(vOriginalSurfaceNormal.y,vOriginalSurfaceNormal.x))>.0)){float lY=(mat2(cos(-lBadge.y),-sin(-lBadge.y),sin(-lBadge.y),cos(-lBadge.y))*vOriginalPosition.xy).y/lBadge.x;if(abs(lY)<1.0){vec4 lBadgeColor=texture2D(uBadgeTexture,vec2(lY*.5/16.0+(mod(lBadge.w,16.0))/16.0-0.96875,(lBadge.z-vOriginalPosition.z)*.5/abs(lBadge.x*16.0)+floor(lBadge.w/16.0)/16.0-0.96875));lColor=mix(lColor,lBadgeColor,lBadgeColor.a);}}}}lLight=pow(mix(lColor.r,max(lTempColor.r,lTempColor.g),lTempColor.a),uLight.x+3.0)+uLight.z;for (int lLightIndex=0;lLightIndex<4;lLightIndex++){vec4 lShadowPosition=uLightProjections[lLightIndex]*(vPosition);vec3 lShadowTextureCoordinate=lShadowPosition.xyz/lShadowPosition.w;vec3 lLightDelta=(uLightPositions[lLightIndex]-vPosition).xyz;if(length(lShadowTextureCoordinate.xy)<1.0&&lShadowTextureCoordinate.z>.0){float lShadowDistance=texture2D(uLightTextures,(lShadowTextureCoordinate.xy+1.0)/4.0+vec2(mod(float(lLightIndex),2.0),float(lLightIndex/2))/2.0).a*9.9;if(lShadowDistance+.1>length(lLightDelta)){lLight+=pow(max(1.0-lColor.a,dot(normalize(lLightDelta),normalize(vSurfaceNormal)))*(1.0-pow(length(lShadowTextureCoordinate.xy),9.9)),2.0)*max(.0,uLightPositions[lLightIndex].w-length(lLightDelta)/(9.9)*pow(uLightPositions[lLightIndex].w,.5));}}if(length(lLightDelta)<uLightPositions[lLightIndex].w){lLight+=pow((uLightPositions[lLightIndex].w-length(lLightDelta))/uLightPositions[lLightIndex].w,2.0);}}gl_FragColor = vec4(lColor.rgb*lLight*pow(max(.0, 1.0-length(lCameraDelta)/13.0),1.0-lLight),lColor.a+(1.0-max(lColor.a,lColor.b))*(lLight+pow(uLight.x+.6,2.0)));}else{gl_FragColor = vec4(length(lCameraDelta)/9.9);}}");var k=a.crPrm();a.atShr(k,h);a.atShr(k,f);a.liPrm(k);if(!a.getProgramParameter(k,35714))return console.error("Unable to initialize the shader program: ",a.getProgramInfoLog(k)),console.log("attribute vec4 aVertexPosition;attribute vec2 aTextureCoordinate;attribute vec3 aSurfaceNormal;uniform mat4 uModelViewMatrix;uniform mat4 uProjectionMatrix;varying vec2 vTextureCoordinate;varying vec3 vSurfaceNormal;varying vec4 vPosition;varying vec4 vOriginalPosition;varying vec3 vOriginalSurfaceNormal;void main(){vPosition=uModelViewMatrix*aVertexPosition;vTextureCoordinate=aTextureCoordinate;vOriginalPosition=aVertexPosition;vOriginalSurfaceNormal=aSurfaceNormal;vSurfaceNormal=((uModelViewMatrix*vec4(aSurfaceNormal,.0))-(uModelViewMatrix * vec4(.0))).xyz;gl_Position=uProjectionMatrix*vPosition;}"),console.log("precision highp float;uniform sampler2D uModelTexture;uniform vec3 uCameraPosition;uniform vec3 uLight;uniform vec4 uLightPositions[4];uniform mat4 uLightProjections[4];uniform sampler2D uLightTextures;uniform vec4 uPalette[4];uniform vec4 uBadges[4];uniform sampler2D uBadgeTexture;varying vec2 vTextureCoordinate;varying vec4 vPosition;varying vec3 vSurfaceNormal;varying vec4 vOriginalPosition;varying vec3 vOriginalSurfaceNormal;void main(){vec3 lCameraDelta=uCameraPosition-vPosition.xyz;if(uLight.y>.0){vec4 lColor=texture2D(uModelTexture,vTextureCoordinate);float lLight=lColor.r;for(int lPaletteIndex=0;lPaletteIndex<4;lPaletteIndex++){if(float(lPaletteIndex)<=lLight*3.1){lColor=uPalette[lPaletteIndex];}}vec4 lTempColor=lColor;if(dot(lCameraDelta,vSurfaceNormal)>.0){for(int lBadgeIndex=0;lBadgeIndex<4;lBadgeIndex++){vec4 lBadge=uBadges[lBadgeIndex];if(abs(lBadge.z-vOriginalPosition.z)<abs(lBadge.x)&&(cos(lBadge.y-atan(vOriginalSurfaceNormal.y,vOriginalSurfaceNormal.x))>.0)){float lY=(mat2(cos(-lBadge.y),-sin(-lBadge.y),sin(-lBadge.y),cos(-lBadge.y))*vOriginalPosition.xy).y/lBadge.x;if(abs(lY)<1.0){vec4 lBadgeColor=texture2D(uBadgeTexture,vec2(lY*.5/16.0+(mod(lBadge.w,16.0))/16.0-0.96875,(lBadge.z-vOriginalPosition.z)*.5/abs(lBadge.x*16.0)+floor(lBadge.w/16.0)/16.0-0.96875));lColor=mix(lColor,lBadgeColor,lBadgeColor.a);}}}}lLight=pow(mix(lColor.r,max(lTempColor.r,lTempColor.g),lTempColor.a),uLight.x+3.0)+uLight.z;for (int lLightIndex=0;lLightIndex<4;lLightIndex++){vec4 lShadowPosition=uLightProjections[lLightIndex]*(vPosition);vec3 lShadowTextureCoordinate=lShadowPosition.xyz/lShadowPosition.w;vec3 lLightDelta=(uLightPositions[lLightIndex]-vPosition).xyz;if(length(lShadowTextureCoordinate.xy)<1.0&&lShadowTextureCoordinate.z>.0){float lShadowDistance=texture2D(uLightTextures,(lShadowTextureCoordinate.xy+1.0)/4.0+vec2(mod(float(lLightIndex),2.0),float(lLightIndex/2))/2.0).a*9.9;if(lShadowDistance+.1>length(lLightDelta)){lLight+=pow(max(1.0-lColor.a,dot(normalize(lLightDelta),normalize(vSurfaceNormal)))*(1.0-pow(length(lShadowTextureCoordinate.xy),9.9)),2.0)*max(.0,uLightPositions[lLightIndex].w-length(lLightDelta)/(9.9)*pow(uLightPositions[lLightIndex].w,.5));}}if(length(lLightDelta)<uLightPositions[lLightIndex].w){lLight+=pow((uLightPositions[lLightIndex].w-length(lLightDelta))/uLightPositions[lLightIndex].w,2.0);}}gl_FragColor = vec4(lColor.rgb*lLight*pow(max(.0, 1.0-length(lCameraDelta)/13.0),1.0-lLight),lColor.a+(1.0-max(lColor.a,lColor.b))*(lLight+pow(uLight.x+.6,2.0)));}else{gl_FragColor = vec4(length(lCameraDelta)/9.9);}}"),null;h=Sb.map(m=>a.geAtLon(k,m));f=Tb.map(m=>a.geUnLon(k,m));e=e.map(m=>{var r=[],y=[],C=[],u=[],b=[0,0,0];m.map((v,n)=>{var p=[Y(1.571,0,0,1),Y(-1.571,1,0,0),Y(3.142,0,0,1),ra[n]].reduce(X,V());v.map(q=>{var x=La(Z(q[1].j,q[0].j),Z(q[2].j,q[0].j));x=$a(p,...x);var E=Ma(x,ca(Qa(x,x),.5));q.map(M=>{y.push(y.length);var J=$a(p,...M.j);b=b.map((L,K)=>ea(J[K],L));r.push(...J);C.push(...M.C);u.push(...E)})})});m=a.crBur();a.biBur(34962,m);a.buDaa(34962,new Float32Array(r),35044);var A=a.crBur();a.biBur(34962,A);a.buDaa(34962,new Float32Array(C),35044);var G=a.crBur();a.biBur(34962,G);a.buDaa(34962,new Float32Array(u),35044);var w=a.crBur();a.biBur(34963,w);a.buDaa(34963,new Uint16Array(y),35044);return{hb:m,Ua:w,fb:G,gb:A,Ta:b,Va:y.length}});a.usPrm(k);return{ka:f,Ra:h,La:e}},Ub=(a,e,h)=>{e=a.crShr(e);a.shSoe(e,h);a.coShr(e);return a.getShaderParameter(e,a.COMPILE_STATUS)?e:(console.error("An error occurred compiling the shaders: ",a.getShaderInfoLog(e)),h.split("\n").map((f,k)=>{console.log(k+1,f)}),a.deleteShader(e),null)};d.width=2048;d.height=2048;var Wb=d.getContext("2d");var Xb=0;Wb.font="128px serif";Wb.textAlign="center";[[128310],[176],[8226],[7508],[8979],[8994,2],[8255],[9824,8],[45,46],[9888,8],[128512,69],[128004,59],[127807,50],[128121,8]].map(([a,e])=>{for(var h=0;h<(e||1);h++){var f=String.fromCodePoint(a+h);Wb.fillText(f,128*(Xb%16+.5),128*((Xb/16|0)+.85));Xb++}});i.onload=()=>{var a=i.width,e=i.height;Yb=Sa.map(q=>Ja(q,a,e));var h=Sa.map((q,x)=>Ra(q,Yb[x]));g.width=innerWidth;g.height=innerHeight;var f=aa(g.getContext("webgl",{alpha:!1}));f.blFuc(770,771);var k=f.crTee();f.biTee(3553,k);f.teIm2D(3553,0,6408,2048,2048,0,6408,5121,null);var m=f.crFrr(),r=f.crRer();f.biRer(36161,r);f.reSte(36161,33189,2048,2048);Zb=Vb(f,h);var y=f.crTee();f.acTee(33984);f.biTee(3553,y);f.teIm2D(3553,0,6408,6408,5121,i);f.geMip(3553);f.tePai(3553,10240,9728);f.un1i(Zb.ka[2],0);h=f.crTee();f.acTee(33986);f.biTee(3553,h);f.teIm2D(3553,0,6408,6408,5121,d);f.geMip(3553);f.tePai(3553,10241,9728);f.un1i(Zb.ka[10],2);var C=(q,x,E,M,J,L,K,N,T,ha,z,I,H)=>{var O=X(L,oa(...J.map(B=>-B)));L=x.ka;q.unMa4fv(L[1],!1,O);q.un3fv(L[3],J);q.un3fv(L[4],[ha,z?1:0,T]);z&&(T=Array(4).fill(0).map((B,D)=>(B=z&&z[D])?B:{sa:0,Ea:V(),j:[0,0,0]}),q.un4fv(L[5],T.flatMap(B=>B.j.concat(B.sa))),q.unMa4fv(L[6],!1,T.flatMap(B=>X(B.Ea,oa(...B.j.map(D=>-D))))));q.ene(2884);var R=[];Ob(E,M,B=>{var D=[...B.j.slice(0,2),B.j[2]+B.u/2];D=Z(D,J);D=ca(Qa(D,D),.5);var F=1/K*B.da/ca(D*D-B.da*B.da,.5)*B.da*ea(1,g.width/g.height),S=$a(O,...B.j),W=ab(S.slice(0,2));S[2]>-B.da&&!S.some(Q=>U(Q)>(1+F)*da(ea(1,W),1.5))&&D-B.da<N&&(!I||I(B))&&(B.xa&&z?R.push(B):(D=[oa(...B.j),Y(-B.X,0,0,1),na(1,1,B.Ga||1)].reduce(X,V()),u(q,x,B.body,D,B.Oa||{},B.oa||{},B.ca,H)))});z&&(q.ene(3042),q.deMak(!1),R.sort((B,D)=>ab(Z(D.j,J))-ab(Z(B.j,J))).map(B=>{var D=[oa(...B.j),Y(-B.X,0,0,1),na(1,1,B.Ga||1)].reduce(X,V());u(q,x,B.body,D,B.Oa||{},B.oa||{},B.ca,H)}),q.die(3042),q.deMak(!0))},u=(q,x,E,M,J,L,K,N)=>{var T=x.Ra,ha=x.ka,z=x.La,I=[M,oa(...E.U||[0,0,0]),E.wa?na(1,-1,1):V(),J[E.id]||V(),E.O].reduce(X,V());(N=N&&!E.wa||!N&&E.wa)?q.cuFae(1028):q.cuFae(1029);q.unMa4fv(ha[0],!1,I);var {hb:H,Ua:O,gb:R,fb:B,Va:D}=z[E.S];q.biBur(34962,H);q.veAtPor(T[0],3,5126,!1,0,0);q.enVeAtAry(T[0]);q.biBur(34962,R);q.veAtPor(T[1],2,5126,!1,0,0);q.enVeAtAry(T[1]);q.biBur(34962,B);q.veAtPor(T[2],3,5126,!1,0,0);q.enVeAtAry(T[2]);var F=E.W||[0,1,2,3];q.un4fv(x.ka[8],Array(4).fill(0).flatMap((W,Q)=>K[F[Q%F.length]%K.length]));var S=L[E.id];q.un4fv(x.ka[9],Array(4).fill(0).flatMap((W,Q)=>S&&S[Q]||[0,0,0,0]));q.biBur(34963,O);q.drEls(4,D,5123,0);E.qa&&E.qa.map(W=>{u(q,x,W,I,J,L,K,N)})},b=Lb(3,2,(q,x)=>({ha:[],ib:q,jb:x}));h=Lb(27,18,()=>({ia:0}));var A={F:0,I:b,T:h,Qa:[],Ca:[],Z:{0:1,1:1,2:1,3:1,4:1,5:1,9:1}};$b.map((q,x)=>q.map((E,M)=>{b[x][M].$=E.$||0;E.V.split("").map((J,L)=>{var K=9*x+L%9+.5;L=9*M+(L/9|0)+.5;var N=J.toLowerCase();ac[N]&&ac[N](A,K,L,N!=J,J);if(" "!=J&&"#"!=J){N=$b[K/9|0][L/9|0];var T=[lb,lb,zb,zb];J=parseInt(J);var ha=bc(1,K,L,1,0,0,[xb,xb,yb,xb],1);ha.j[2]=-ha.u;Eb(A,ha);J!=J&&(K=bc(1,K,L,1,0,0,T,1,N.u||3),Eb(A,K))}})}));var G={};onkeydown=q=>G[q.keyCode]=1;onkeyup=q=>G[q.keyCode]=0;var w={Wa:G};var v=X(la(.8,g.width/g.height),Y(-1.6,0,0,1));var n=0;var p=q=>{requestAnimationFrame(p);var x=da(60,q-n);n=q;Rb(A,w,x);var [E,M]=Db(A.G),J=A.I[E][M].Ia;x=Z(A.G.j,J);q=ka(x[1],x[0]);var L=ab(x.slice(0,2).concat(0));x=ka(L,-x[2]-A.G.u);q=[v,Y(x,0,1,0),Y(q,0,0,1)].reduce(X,V());var K=Kb(A,E,M);x=(w.bb||[]).filter(N=>N.sa).sort((N,T)=>{N=ab(Z(J,N.j));T=ab(Z(J,T.j));return N-T}).slice(0,4);f.acTee(33985);f.biTee(3553,k);f.biFrr(36160,m);f.frTe2D(36160,36064,3553,k,0);f.biRer(36161,r);f.frRer(36160,36096,36161,r);f.ene(2929);f.die(3042);f.clr(16640);f.biTee(3553,y);x.map((N,T)=>{var ha=Kb(A,N.j[0]/9|0,N.j[1]/9|0).filter(z=>K.some(I=>z[0]==I[0]&&z[1]==z[1]));f.vit(T%2*1024,1024*(T/2|0),1024,1024);C(f,Zb,A,ha,N.j,N.Ea,N.Ka||.8,9.9,1,1,null,z=>z!=N&&!(0>z.xa))});f.un1i(Zb.ka[7],1);f.biTee(3553,k);f.geMip(3553);f.tePai(3553,10240,9728);f.biFrr(36160,null);f.vit(0,0,g.width,g.height);f.ene(2929);f.clr(16640);L=ca((A.G.aa||0)/7E3,3);C(f,Zb,A,K,J,q,.8,13,-.05-3*L,4*U(L),x);f.biTee(3553,y)};p(0)};i.src="i.bmp";var cc=a=>a[P()*a.length|0],dc=a=>{a&&a.disconnect()};var ec;var fc=a=>{var e;return(h,f)=>{ec||(ec=aa(window.webkitAudioContext?new window.webkitAudioContext:new AudioContext));e||(e=a(ec));e(h,f)}},gc=(a,e,h,f,k,m)=>{var r=a.sampleRate;var y=e*r|0;var C=aa(a.crBur(1,y,r));for(r=C.geChDaa(0);y--;)r[y]=2*P()-1;return(u,b)=>{b||(b=1);var A=a.crBuSoe();A.buffer=C;A.loop=!0;var G=a.crBiFir();G.type="lowpass";G.Q.value=0;G.frequency.value=f;var w=a.crGan();b=.2*e;var v=a.currentTime,n=aa(w.gain);n.value=0;n.seVaAtTie(0,v);n.liRaToVaAtTime(k,v+h);n.liRaToVaAtTime(m,v+b);n.liRaToVaAtTime(0,v+e);var p=a.crPar();p.refDistance=27*k;p.distanceModel="exponential";p.setPosition(...u);A.connect(G);G.connect(w);w.connect(p);p.connect(a.destination);A.start();A.stop(a.currentTime+e);A.onended=()=>{[p,w,A,G].map(dc)}}};var Yb,Zb;var hc=fc(a=>gc(a,.05,.02,2E3,.06,.03)),ic=fc(a=>gc(a,.05,.01,1E3,.2,.1)),kc=fc(a=>gc(a,.03,.02,799,.15,.07)),lc=fc(a=>gc(a,.5,.2,499,.1,.05)),mc=fc(a=>gc(a,.02,0,3E3,.2,.1)),Qb=fc(a=>gc(a,.5,.3,2E3,.07,0));var nc=10;var bc=(a,e,h,f,k,m,r,y,C)=>{var u=e/9|0,b=h/9|0,A=$b[u][b];u=(e|0)-9*u;b=(h|0)-9*b;var G=A.V[9*b+u+1],w=A.V[9*b+u-1],v=A.V[9*(b+1)+u];A=A.V[9*(b-1)+u];m=m?"#"==G||8==u||"#"!=w&&4.5<u?3.142:0:"#"==v||8==b||"#"!=A&&4.5<b?-1.571:1.571;A=Zb.La[a].Ta;var n=.5*U(f)/A[0<f?0:1];f=0>k?Ha(Sa[a],Yb[a],0).map(p=>{p=[...p.j];p[1]*=-1;return Ba(1.6,p)}).map(p=>p.map(q=>q*n)):0;u=A.map(p=>p*n);u=Ba(-m,u);b=Ba(-m,[e,h,C||0]);b[0]-=.5-U(u[0]);e=y?[e,h,C||0]:Ba(m,b);h=1==k?.7:1;return{id:nc++,u:2*A[2]*n,j:e,J:ab(A.slice(0,2).concat(0))*n*h,da:ca(Qa(A,A),.5)*n,body:{id:0,O:[na(n),oa(0,0,A[2])].reduce(X,V()),S:a},ca:r,H:[0,0,0],X:m,ga:k,Pa:f}},pc=(a,e,h,f,k)=>{k=k.toLowerCase().charCodeAt(0)-97;var m=[rb,ob,ob,ob],r=5>k;e=r?bc(11,e,h,.08,2,f,m,0,1.3):bc(10,e,h,.08,2,f,m,0,1.3);e.J=.7;e.ba=5;e.L=k;r&&(e.oa={0:[[1.4,0,2,oc[k]]]});a.Qa.push(e);Eb(a,e)},oc=[62,8,13,14,11,62,12,9,10,15],qc=(a,e,h,f,k)=>{k=parseInt(k);var m=e/9|0,r=h/9|0,y=$b[m][r];m=9==k&&!m&&!r;f=bc(1,e,h,1,0,f,[[.3,.3,.3,1]],1,m?4:y.u||3);f.ba=4;y=m?.4:3;f.Ea=[la(y,1)].reduce(X,V());f.Ka=y;f.L=k;f.Da=0;for(k=32;k;)k--,.01>P()*k/32&&(f.Da|=1<<k);Eb(a,f);if(m){f=Array(5).fill(0).map(()=>Ab(P(),P()/2,P()/2));var C=Array(5).fill(0).map(()=>Ab(P(),P()/5,P()/7+.1)),u=Array(6).fill(0).map(()=>Ab(P(),P()/2,P()/2+.2));k=cc([[.7,.6,.6,1],[.6,.5,.5,1],[.5,.4,.3,1]]);f=cc(f.concat([k]));m=cc(C);y=cc(u.concat(C,[k]));r=cc(C.concat(u).concat(Array(5).fill(y)));var b=cc([k,k,y,r]),A=cc(C),G=cc([m,k]);C=cc(C.concat([G],u));u=.1>P()?r:cc([k,f]);var w=cc([1,2,3,34]);e={id:nc++,ca:[f,k,A,m,r,y,b,G,C,u],body:jb,j:[e,h,0],u:1.3,Ga:1.1,J:.2,da:1,H:[0,0,0],ga:1,oa:{11:[[1,0,-.8,cc([4,5,6,7,17,2])],[-1,-ba/7,.7,w],[1,ba/7,.7,w]],10:[[.5<P()?0:1+P(),y==r?0:3.1,1,34+221*P()|0]]},X:1.6,ba:1,na:{1:{K:300,N:Ua(1),ta:1,ea:hc,za:600},2:{K:300,N:Ua(2),ta:1,ea:ic,za:600},3:{K:500,N:Va,ea:mc},5:{K:200,N:Ya,ea:lc},4:{K:300,N:Wa,ta:1}},Y:[-.5,0]};a.G=e;Eb(a,e)}},rc=(a,e,h,f,k)=>{var m=122-k.toLowerCase().charCodeAt(0);k=m%5;var r=m/5|0;m=r?mb:nb;m=bc(13,e,h,-1,-1,f,[m,m,rb,tb],1);m.ba=6;m.L=k;m.Y=[0,.71*m.u];m.xa=1;m.Fa=r;k=oc[k+5*r];m.oa={0:[[.8,0,-3.1,k],[.8,3.1,-3.1,k]]};e=bc(12,e,h,1,-1,f,[pb],1,m.u);Eb(a,e);a.Ca.push(m);Eb(a,m)},ac={"#":(a,e,h,f)=>{Eb(a,bc(0,e,h,1,-1,f,[pb,pb,sb]))},"-":(a,e,h,f)=>{h=bc(0,e,h,1,-1,f,[pb,rb,sb,rb]);23==(e|0)&&(h.oa={0:[[2.2,0,4,252],[2,0,-1,62]]});Eb(a,h)},l:(a,e,h,f)=>{Eb(a,bc(3,e,h,1,-1,f,[qb,kb]))},"+":(a,e,h,f)=>{Eb(a,bc(12,e,h,1,-1,f,[pb,pb,sb]))},m:(a,e,h,f)=>{Eb(a,bc(2,e,h,.55,-1,f,[qb,kb],1))},o:(a,e,h,f)=>{var k=bc(12,e,h,1,-1,f,[pb,pb,sb]),m=bc(14,e,h,-1,-1,f,[ub],1,k.u);m.xa=-1;e=bc(12,e,h,1,-1,f,[pb],1,m.u+k.u);Eb(a,e);Eb(a,m);Eb(a,k)},"!":(a,e,h)=>{var f=e/9|0,k=h/9|0;a.I[f][k].Ia=[e,h,($b[f][k].u||3)-.2]},"&":(a,e,h)=>{e={id:nc++,ca:[[0,0,0,0]],body:jb,j:[e,h,0],u:1.5,Ga:1.2,J:.2,da:1,H:[0,0,0],ga:1,X:0,B:0,ba:2,oa:{11:[[-1,-.44,.7,0],[1,.44,.7,0]]},na:{1:{K:150,N:Ua(.5),ea:kc,za:300},2:{K:75,N:Ua(.5),ea:kc,za:150},3:{K:500,N:Va,ea:mc},6:{K:300,N:Za,ta:1}},xa:1,la:0};a.ya=e;a.Ca.push(e);Eb(a,e)},a:pc,b:pc,c:pc,d:pc,e:pc,f:pc,g:pc,h:pc,i:pc,z:rc,y:rc,x:rc,w:rc,v:rc,t:rc,s:rc,r:rc,1:qc,2:qc,5:qc,6:qc,7:qc,8:qc,9:qc},$b=[[{$:6,V:"  #       #9#######__i+___##___+___Y#___+8_B##___!___##______MO#_____mLO##oo#w####"},{$:5,V:"#M _d_i_##M______##M______O#__!___G##+++8___S#_______##_+#_____#__#_____ ########"}],[{$:142,V:"#########_!______#________Z________ZH_______#_7_#zooo#___O___F#___O________######"},{$:45,V:"___T_G###___O_______6O_!______O________O___E##ooooooo##______C#Y_______V#########"}],[{$:10,V:"######## __+___#9#__+_+_O_#__+5+_O_#__!_+_O_#M___+_R_#oooooo###______ # m____+A#"},{u:4,$:9,V:"####y####__O_____#__O_____#__X_m_m_####Bl_l_#__Z____!#__O_+++_#_&O__1__#####---#"}]],Lb=(a,e,h)=>Array(a).fill(0).map((f,k)=>Array(e).fill(0).map((m,r)=>h(k,r)));</script>